#include <stdio.h>
#include <stdlib.h>
#include <time.h>

void printarLista(int lista[], int tam_lista)
{
    printf("\nLISTA!\n");

    for (int i = 0; i < tam_lista; i++)
    {
        printf("%i\n", lista[i]);
    }
    printf("FIM DA LISTA\n");
}
void comb(int lista[], int inicio, int meio, int fim)
{
    int tam_esq = meio - inicio + 1;
    int tam_dir = fim - meio;
    int *lista_esq = (int *)malloc(sizeof(int) * tam_esq);
    int *lista_dir = (int *)malloc(sizeof(int) * tam_dir);
    int topo_esq = 0, topo_dir = 0;

    for (int i = 0; i < tam_esq; i++)
    {
        lista_esq[i] = lista[inicio + i];
    }

    for (int i = 0; i < tam_dir; i++)
    {
        lista_dir[i] = lista[meio + i + 1];
    }

    for (int i = inicio; i <= fim; i++)
    {
        if (topo_esq >= tam_esq)
        {
            lista[i] = lista_dir[topo_dir];
            topo_dir += 1;
        }
        else if (topo_dir >= tam_dir)
        {
            lista[i] = lista_esq[topo_esq];
            topo_esq += 1;
        }
        else if (lista_esq[topo_esq] < lista_dir[topo_dir])
        {
            lista[i] = lista_esq[topo_esq];
            topo_esq += 1;
        }
        else
        {
            lista[i] = lista_dir[topo_dir];
            topo_dir += 1;
        }
    }

    free(lista_esq);
    free(lista_dir);
}

void merge(int lista[], int inicio, int fim, int tam_lista)
{
    printarLista(lista, tam_lista);
    if ((fim - inicio) > 0)
    {
        int meio = (fim + inicio) / 2;
        merge(lista, inicio, meio, tam_lista);
        merge(lista, meio + 1, fim, tam_lista);
        comb(lista, inicio, meio, fim);
    }
}

int main(int argc, char *argv[])
{
    int listaPequena[] = {6, 1, 7, 5, 6, 7, 4, 10, 1, 6, 3};
    int listaMedia[] = {847, 576, 227, 216, 966, 312, 454, 114, 510, 218, 349, 525, 960, 392, 848, 406, 79, 422, 74, 337, 585, 152, 261, 225, 229, 392, 282, 12, 412, 539, 757, 378, 832, 68, 800, 455, 929, 753, 604, 579, 185, 745, 285, 158, 850, 913, 320, 920, 163, 229, 34, 934, 741, 216, 570, 266, 564, 6, 46, 427, 435, 191, 752, 324, 45, 634, 507, 211, 935, 344, 676, 69, 164, 410, 971, 357, 903, 975, 608, 716, 421, 14, 86, 195, 37, 814, 192, 155, 101, 358, 677, 539, 693, 626, 863, 505, 936, 840, 110, 375};
    int listaGrande[] = {3139,
                         5339,
                         9954,
                         8981,
                         8698,
                         5424,
                         334,
                         6872,
                         6968,
                         619,
                         2597,
                         1190,
                         3868,
                         5458,
                         7151,
                         8050,
                         7900,
                         1348,
                         7229,
                         1084,
                         1748,
                         4176,
                         7956,
                         5873,
                         2879,
                         6870,
                         690,
                         8180,
                         3134,
                         3306,
                         9565,
                         8730,
                         1757,
                         6583,
                         5143,
                         2072,
                         2881,
                         5495,
                         7815,
                         4759,
                         647,
                         2384,
                         9683,
                         8315,
                         8154,
                         2146,
                         8825,
                         7690,
                         7115,
                         2436,
                         8751,
                         7415,
                         1505,
                         644,
                         8052,
                         9559,
                         4025,
                         3565,
                         2995,
                         3312,
                         3485,
                         9221,
                         2171,
                         746,
                         4908,
                         5560,
                         2472,
                         6531,
                         4838,
                         6897,
                         119,
                         1779,
                         108,
                         373,
                         3234,
                         9167,
                         5027,
                         9010,
                         2921,
                         9730,
                         7276,
                         5420,
                         9755,
                         9625,
                         7819,
                         2607,
                         9536,
                         646,
                         2050,
                         3512,
                         8981,
                         7526,
                         292,
                         5468,
                         96,
                         7559,
                         2345,
                         1266,
                         8821,
                         7071,
                         9650,
                         3462,
                         273,
                         2610,
                         8389,
                         6830,
                         3818,
                         2383,
                         9871,
                         463,
                         7286,
                         1430,
                         6909,
                         9284,
                         6980,
                         8891,
                         8881,
                         2967,
                         8101,
                         2545,
                         4622,
                         6125,
                         4200,
                         1265,
                         9101,
                         7704,
                         6530,
                         2586,
                         8500,
                         802,
                         8013,
                         9778,
                         1494,
                         4100,
                         6611,
                         5112,
                         9334,
                         6832,
                         6264,
                         1807,
                         5953,
                         4931,
                         5213,
                         6619,
                         138,
                         4041,
                         2939,
                         6789,
                         297,
                         7603,
                         3604,
                         1228,
                         732,
                         8613,
                         8794,
                         8078,
                         1818,
                         5479,
                         9405,
                         8078,
                         6721,
                         4903,
                         9232,
                         7420,
                         5418,
                         6818,
                         2991,
                         8764,
                         8293,
                         3961,
                         5081,
                         636,
                         813,
                         293,
                         9593,
                         6502,
                         1616,
                         2453,
                         7388,
                         8059,
                         462,
                         6246,
                         5492,
                         3195,
                         7528,
                         7764,
                         3512,
                         2060,
                         690,
                         3948,
                         9997,
                         3015,
                         2544,
                         2217,
                         8560,
                         6249,
                         2560,
                         3775,
                         7844,
                         4311,
                         1591,
                         8197,
                         4641,
                         3055,
                         5328,
                         4508,
                         6395,
                         5698,
                         2918,
                         6712,
                         8795,
                         7159,
                         2170,
                         234,
                         2393,
                         5284,
                         8042,
                         1846,
                         931,
                         9733,
                         2801,
                         1926,
                         6352,
                         8776,
                         2582,
                         5073,
                         1802,
                         4176,
                         8102,
                         4657,
                         3861,
                         4119,
                         4211,
                         1389,
                         4140,
                         473,
                         927,
                         3802,
                         5511,
                         3506,
                         6217,
                         1800,
                         2573,
                         4987,
                         4232,
                         3368,
                         7509,
                         3266,
                         3140,
                         5797,
                         6161,
                         19,
                         46,
                         56,
                         2139,
                         702,
                         397,
                         328,
                         4501,
                         7335,
                         6179,
                         9197,
                         2707,
                         6493,
                         8450,
                         8089,
                         5660,
                         17,
                         8225,
                         1659,
                         150,
                         2513,
                         916,
                         9777,
                         4149,
                         8108,
                         9778,
                         7631,
                         585,
                         6426,
                         2374,
                         6880,
                         2292,
                         6785,
                         2808,
                         5760,
                         7306,
                         6641,
                         5578,
                         9939,
                         2431,
                         5163,
                         9579,
                         3882,
                         5105,
                         4865,
                         2292,
                         8332,
                         9125,
                         799,
                         2678,
                         4550,
                         2404,
                         1694,
                         4627,
                         9746,
                         7314,
                         1213,
                         3259,
                         8034,
                         5318,
                         200,
                         6456,
                         5541,
                         3994,
                         7026,
                         5996,
                         2066,
                         241,
                         1409,
                         9282,
                         6799,
                         9612,
                         1220,
                         946,
                         8439,
                         4749,
                         8255,
                         6937,
                         4793,
                         9353,
                         1459,
                         5966,
                         1340,
                         4324,
                         2118,
                         9036,
                         1947,
                         9308,
                         7338,
                         1668,
                         1446,
                         9505,
                         7685,
                         3249,
                         2294,
                         3062,
                         750,
                         3389,
                         5471,
                         5458,
                         747,
                         2956,
                         4865,
                         118,
                         3930,
                         792,
                         3409,
                         9394,
                         1978,
                         3023,
                         9250,
                         7853,
                         6871,
                         9494,
                         8948,
                         6629,
                         8624,
                         2375,
                         3220,
                         8801,
                         6550,
                         2079,
                         4684,
                         3137,
                         5388,
                         8438,
                         9933,
                         9936,
                         8307,
                         4061,
                         7170,
                         6643,
                         3192,
                         3046,
                         58,
                         7692,
                         9663,
                         7090,
                         5791,
                         8105,
                         4546,
                         2704,
                         6490,
                         2529,
                         8427,
                         3697,
                         4609,
                         1123,
                         9473,
                         8888,
                         8492,
                         7767,
                         1159,
                         5959,
                         7358,
                         4243,
                         1195,
                         4922,
                         1624,
                         1434,
                         2270,
                         3887,
                         1033,
                         5656,
                         966,
                         9755,
                         5291,
                         4958,
                         1133,
                         3546,
                         326,
                         1246,
                         833,
                         5716,
                         7212,
                         2190,
                         5530,
                         9031,
                         9171,
                         3463,
                         3253,
                         7738,
                         184,
                         2043,
                         7371,
                         1245,
                         3527,
                         8937,
                         249,
                         8739,
                         9033,
                         3822,
                         7474,
                         5410,
                         1789,
                         6361,
                         7356,
                         861,
                         7046,
                         7466,
                         5702,
                         5998,
                         6462,
                         6300,
                         7235,
                         1094,
                         4282,
                         9141,
                         2785,
                         8938,
                         156,
                         2295,
                         9343,
                         4583,
                         3668,
                         8875,
                         3790,
                         2575,
                         4648,
                         6506,
                         1606,
                         5017,
                         7302,
                         959,
                         9840,
                         5681,
                         2691,
                         6478,
                         401,
                         7330,
                         1075,
                         6708,
                         8915,
                         370,
                         9821,
                         3473,
                         6621,
                         8006,
                         7542,
                         8741,
                         2917,
                         4669,
                         7684,
                         7396,
                         4725,
                         5275,
                         5783,
                         3091,
                         5502,
                         8903,
                         1543,
                         9673,
                         7981,
                         8125,
                         1376,
                         2158,
                         8231,
                         9907,
                         7493,
                         1004,
                         2463,
                         2987,
                         8252,
                         2867,
                         2476,
                         8320,
                         8404,
                         8581,
                         4940,
                         7375,
                         984,
                         5390,
                         6950,
                         5191,
                         7365,
                         67,
                         6536,
                         6287,
                         4050,
                         8337,
                         656,
                         3403,
                         9277,
                         3223,
                         3393,
                         4128,
                         4367,
                         5912,
                         4853,
                         5268,
                         9398,
                         5439,
                         4306,
                         1224,
                         5197,
                         9650,
                         6032,
                         6834,
                         1266,
                         4691,
                         5715,
                         9196,
                         2098,
                         3480,
                         8361,
                         9461,
                         5916,
                         7699,
                         5766,
                         7421,
                         8438,
                         8222,
                         96,
                         9109,
                         3668,
                         9605,
                         2585,
                         3006,
                         1175,
                         8151,
                         3831,
                         1830,
                         2688,
                         5146,
                         5193,
                         4669,
                         1189,
                         9951,
                         5040,
                         3809,
                         6902,
                         5837,
                         832,
                         653,
                         3792,
                         6569,
                         5860,
                         5707,
                         8304,
                         4377,
                         2072,
                         2804,
                         348,
                         8911,
                         8779,
                         5843,
                         7995,
                         9240,
                         1631,
                         6405,
                         5606,
                         7291,
                         9592,
                         5380,
                         1999,
                         997,
                         8748,
                         8411,
                         4284,
                         2978,
                         7613,
                         9187,
                         9253,
                         3190,
                         9202,
                         2854,
                         8807,
                         9355,
                         4557,
                         3394,
                         3258,
                         255,
                         3149,
                         2271,
                         1373,
                         6599,
                         2704,
                         6031,
                         382,
                         151,
                         7659,
                         1028,
                         9654,
                         1605,
                         9968,
                         4593,
                         2756,
                         6850,
                         2857,
                         9329,
                         4009,
                         2099,
                         439,
                         8312,
                         6908,
                         4342,
                         8232,
                         6526,
                         9453,
                         3408,
                         2224,
                         2855,
                         6552,
                         3132,
                         5171,
                         5861,
                         1532,
                         9158,
                         2938,
                         4011,
                         2473,
                         8050,
                         7996,
                         7739,
                         7053,
                         353,
                         3339,
                         5914,
                         4249,
                         9195,
                         7349,
                         2897,
                         6734,
                         4394,
                         5723,
                         7545,
                         8238,
                         4865,
                         4841,
                         3483,
                         364,
                         6697,
                         1277,
                         8347,
                         4191,
                         8151,
                         1820,
                         8733,
                         4152,
                         436,
                         7044,
                         8966,
                         9397,
                         8133,
                         8220,
                         931,
                         4891,
                         7834,
                         459,
                         7371,
                         976,
                         9235,
                         3409,
                         8508,
                         3760,
                         757,
                         1103,
                         5410,
                         259,
                         5442,
                         7934,
                         9032,
                         9659,
                         1246,
                         8251,
                         532,
                         1434,
                         3506,
                         4343,
                         9640,
                         7736,
                         4190,
                         5793,
                         5174,
                         7485,
                         2751,
                         716,
                         3600,
                         7008,
                         2437,
                         5438,
                         6793,
                         8902,
                         3256,
                         3977,
                         3006,
                         2196,
                         8629,
                         9671,
                         7807,
                         7383,
                         8347,
                         43,
                         812,
                         2119,
                         8107,
                         9789,
                         4747,
                         1461,
                         6603,
                         8125,
                         6767,
                         9614,
                         9143,
                         6046,
                         3263,
                         8547,
                         1746,
                         7404,
                         4784,
                         8122,
                         2061,
                         1865,
                         179,
                         3467,
                         957,
                         6846,
                         2515,
                         8323,
                         9337,
                         7235,
                         7676,
                         9594,
                         315,
                         9953,
                         4169,
                         5340,
                         2769,
                         9723,
                         9373,
                         5071,
                         1069,
                         6735,
                         7653,
                         7819,
                         530,
                         9404,
                         6154,
                         7442,
                         8412,
                         32,
                         9324,
                         7644,
                         3177,
                         2794,
                         5988,
                         4288,
                         6430,
                         7849,
                         1821,
                         965,
                         5019,
                         3604,
                         9153,
                         9921,
                         5595,
                         8579,
                         2209,
                         5199,
                         1733,
                         5737,
                         4931,
                         2813,
                         8706,
                         1089,
                         3307,
                         4476,
                         615,
                         6180,
                         5342,
                         8475,
                         5988,
                         2885,
                         7093,
                         6934,
                         6470,
                         711,
                         5517,
                         2322,
                         9974,
                         4548,
                         4661,
                         8279,
                         4601,
                         5981,
                         2846,
                         4400,
                         3880,
                         398,
                         6658,
                         9800,
                         1387,
                         4814,
                         2130,
                         1446,
                         4714,
                         9852,
                         8436,
                         9691,
                         6007,
                         7266,
                         4737,
                         8287,
                         335,
                         1220,
                         2430,
                         9436,
                         9486,
                         4996,
                         132,
                         5631,
                         3897,
                         818,
                         2099,
                         8923,
                         8317,
                         2307,
                         1018,
                         6183,
                         7366,
                         7157,
                         9515,
                         2925,
                         5082,
                         863,
                         2314,
                         2849,
                         8557,
                         1444,
                         3979,
                         4935,
                         1040,
                         1533,
                         3179,
                         7953,
                         7746,
                         6855,
                         392,
                         6618,
                         1164,
                         446,
                         8674,
                         8520,
                         2394,
                         5536,
                         6639,
                         5929,
                         2936,
                         961,
                         3942,
                         9593,
                         8205,
                         8807,
                         5554,
                         2466,
                         7859,
                         9796,
                         3918,
                         9690,
                         4372,
                         9426,
                         7878,
                         1347,
                         5370,
                         1322,
                         1919,
                         9445,
                         3076,
                         6400,
                         3775,
                         4293,
                         1004,
                         9781,
                         8930,
                         255,
                         4751,
                         6811,
                         8345,
                         6799,
                         7011,
                         3438,
                         3298,
                         3070,
                         8375,
                         6751,
                         9421,
                         9353,
                         290,
                         8315,
                         2221,
                         5676,
                         9328,
                         2457,
                         1975,
                         7843,
                         67,
                         9417,
                         2927,
                         7554,
                         1655,
                         9367,
                         201,
                         2804,
                         5942,
                         7100,
                         9430,
                         5977,
                         6119,
                         7413,
                         1360,
                         8453,
                         9680,
                         250,
                         9131,
                         9191,
                         2398,
                         7591,
                         8997,
                         8499,
                         9042,
                         1230,
                         1809,
                         5818,
                         5749,
                         7398,
                         3354,
                         5646,
                         9381,
                         7207,
                         6881,
                         8557,
                         131,
                         4729,
                         808,
                         1402,
                         3472,
                         9480,
                         5150,
                         5361,
                         6200,
                         8863,
                         5975,
                         426,
                         7134,
                         3484,
                         1072,
                         4218,
                         9788,
                         9464};

    clock_t inicio, fim;

    inicio = clock();
    merge(listaPequena, 0, (sizeof(listaPequena) / sizeof(int)) - 1, (sizeof(listaPequena) / sizeof(int)));
    printarLista(listaPequena, (sizeof(listaPequena) / sizeof(int)));
    fim = clock();

    printf("Tempo: %fs\n", ((double)(fim - inicio) / CLOCKS_PER_SEC));
    // merge(listaMedia, 0, (sizeof(listaMedia) / sizeof(int)) - 1, (sizeof(listaMedia) / sizeof(int)));
    // merge(listaGrande, 0, (sizeof(listaGrande) / sizeof(int)) - 1, (sizeof(listaGrande) / sizeof(int)));

    return 0;
}